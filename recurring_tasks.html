<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cruz Control</title>
<link href="https://cruzco.site44.com/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cruzco.site44.com/font-awesome/css/font-awesome.css" rel="stylesheet">
<link href="https://cruzco.site44.com/css/animate.css" rel="stylesheet">
<link href="https://cruzco.site44.com/css/plugins/bootstrap-markdown/bootstrap-markdown.min.css" rel="stylesheet">

<link href='https://rawgit.com/vderm9/jutility/master/style.css' rel="stylesheet">
<link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.css' rel='stylesheet' />
<link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.print.min.css' rel='stylesheet' media='print' />
<link href='https://cruzco.site44.com/lib/scheduler.min.css' rel='stylesheet' />
<link href='https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css' rel='stylesheet' />
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">

<link href="https://cruzco.site44.com/css/plugins/dataTables/datatables.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.10.16/af-2.2.2/b-1.5.1/b-colvis-1.5.1/b-flash-1.5.1/b-html5-1.5.1/b-print-1.5.1/cr-1.4.1/fc-3.2.4/fh-3.1.3/kt-2.3.2/r-2.2.1/rg-1.0.2/rr-1.2.3/sc-1.4.4/sl-1.2.5/datatables.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"/>
<link href="https://cruzco.site44.com/css/plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/metisMenu/2.7.9/metisMenu.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.css" />
<link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.4.0/firepad.css" />
<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
<link rel="stylesheet" href="https://cdn.rawgit.com/vderm9/jutility/master/css/editor.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.rawgit.com/ChrisCruze/jutility/master/libs/jquery.dataTables.yadcf.css">
<link rel="stylesheet" href="css/small_chat.css">


<!-- Mainly scripts -->
<script src="https://cruzco.site44.com/js/jquery-3.1.1.min.js"></script>
<script src="https://cruzco.site44.com/js/bootstrap.min.js"></script>
<script src="https://cruzco.site44.com/js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="https://cruzco.site44.com/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Flot -->
<script src="https://cruzco.site44.com/js/plugins/flot/jquery.flot.js"></script>
<script src="https://cruzco.site44.com/js/plugins/flot/jquery.flot.tooltip.min.js"></script>
<script src="https://cruzco.site44.com/js/plugins/flot/jquery.flot.spline.js"></script>
<script src="https://cruzco.site44.com/js/plugins/flot/jquery.flot.resize.js"></script>
<script src="https://cruzco.site44.com/js/plugins/flot/jquery.flot.pie.js"></script>
<script src="https://cruzco.site44.com/js/plugins/flot/jquery.flot.symbol.js"></script>
<script src="https://cruzco.site44.com/js/plugins/flot/curvedLines.js"></script>

<!-- Peity -->
<script src="https://cruzco.site44.com/js/plugins/peity/jquery.peity.min.js"></script>
<script src="https://cruzco.site44.com/js/demo/peity-demo.js"></script>

<!-- Custom and plugin javascript -->
<script src="https://cruzco.site44.com/js/inspinia.js"></script>
<script src="https://cruzco.site44.com/js/plugins/pace/pace.min.js"></script>

<!-- jQuery UI -->
<script src="https://cruzco.site44.com/js/plugins/jquery-ui/jquery-ui.min.js"></script>

<!-- Jvectormap -->
<script src="https://cruzco.site44.com/js/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
<script src="https://cruzco.site44.com/js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>

<!-- Sparkline -->
<script src="https://cruzco.site44.com/js/plugins/sparkline/jquery.sparkline.min.js"></script>

<!-- ChartJS-->
<script src="https://cruzco.site44.com/js/plugins/chartJs/Chart.min.js"></script>

<!-- CodeMirror-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/mode/javascript/javascript.js"></script>

<!-- FirebaseJS-->
<script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
<script>
firebase.initializeApp({apiKey: "AIzaSyApJBfnH0j3TSugzEABiMFkI_tU_XXeGzg", authDomain: "shippy-ac235.firebaseapp.com", databaseURL: "https://shippy-ac235.firebaseio.com"});
</script>
<script src="https://cdn.firebase.com/libs/firebaseui/2.6.2/firebaseui.js"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.6.2/firebaseui.css" />
    <!-- Bootstrap markdown -->
    <script src="https://cruzco.site44.com/js/plugins/bootstrap-markdown/bootstrap-markdown.js"></script>
    <script src="https://cruzco.site44.com/js/plugins/bootstrap-markdown/markdown.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/showdown/1.8.6/showdown.min.js'></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src='https://cruzco.site44.com/lib/moment.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/moment-duration-format/2.2.2/moment-duration-format.min.js
'></script>


<script src='http://isaaccambron.com/twix.js/twix.js/dist/twix.min.js'></script>
<script src='https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js'></script>
<script src="https://cruzco.site44.com/js/plugins/dataTables/datatables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.10.16/af-2.2.2/b-1.5.1/b-colvis-1.5.1/b-flash-1.5.1/b-html5-1.5.1/b-print-1.5.1/cr-1.4.1/fc-3.2.4/fh-3.1.3/kt-2.3.2/r-2.2.1/rg-1.0.2/rr-1.2.3/sc-1.4.4/sl-1.2.5/datatables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.16/api/sum().js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.16/sorting/datetime-moment.js"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/vderm9/jutility/master/js/dataTables.editor.min.js"></script>
<link href="https://cruzco.site44.com/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cruzco.site44.com/font-awesome/css/font-awesome.css" rel="stylesheet">
<link href="https://cruzco.site44.com/css/animate.css" rel="stylesheet">
<link href="https://cruzco.site44.com/css/style.css" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<script src="https://cdn.rawgit.com/ChrisCruze/jutility/master/libs/jquery.dataTables.yadcf.js"></script>
<script src="https://cruzco.site44.com/js/plugins/daterangepicker/daterangepicker.js"></script>

<script src="https://rawgit.com/vderm9/jutility/master/jutility.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.1.0/webcomponents-hi.js"></script>
<!-- <script src="https://rawgit.com/ChrisCruze/jutility/master/jutility.js"></script>
 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>

<!--   <script src="https://cdnjs.cloudflare.com/ajax/libs/sass.js/0.10.10/sass.min.js"></script>
 -->

 <script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="gb3pnnrxyrysbbu"></script>

 <script src="jutility.js"></script>
<style>

</style>
</head>
<body class="pace-done mini-navbar">
    <div id="wrapper">
        <nav class="navbar-default navbar-static-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav metismenu" id="side-menu">
                    <li class="active">
                        <a href="index.html"><i class="fa fa-th-large"></i> <span class="nav-label">Reports</span> <span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level">
                            <li class="active"><a href="omni.html">Omni</a></li>
                            <li><a href="recurring_tasks.html">recurring_tasks</a></li>
                            <li><a href="stock.html">Stock</a></li>
                            <li><a href="expenses.html">Expenses</a></li>
                        </ul>
                    </li>
                </ul>

            </div>
        </nav>


        <div id="page-wrapper" class="gray-bg dashbard-1">
        <div class="row border-bottom">
        <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>

        </div>
            <ul class="nav navbar-top-links navbar-right">
                <li>
                    <span class="m-r-sm text-muted welcome-message">Supply Demand Summary</span>
                </li>
                <li>
                    <a href="login.html">
                        Aesop
                    </a>
                </li>
            </ul>

        </nav>
        </div>
        <div class="row border-bottom white-bg dashboard-header">
            <div class="col-lg-12">
                <div class="wrapper wrapper-content">
                        <div class="row">
                        <div class="col-lg-12">
                        <div class="iboxX float-e-marginsX">
                        <div class="ibox-titleX">
                            <h5>Summary</h5>
                        </div>
                        <div class="ibox-contentX">
                            <table id="remaining_tasks_table" class="display nowrap" style="width:100%"></table>  
                        </div>

                        </div>
                        </div>
                        </div>
                </div>
            </div>
        </div>

        <div class="row" >
            <div class="col-lg-12">
                <div class="wrapper wrapper-content">
                        <div class="row">
                        <div class="col-lg-12">
                            <div class="ibox float-e-margins">
                                <div class="ibox-title">
                                    <h5>Remaining</h5> 
                                </div>
                                <div class="ibox-content">
                            <table id="remaining_tasks_table_firebase" class="display nowrap" style="width:100%"></table>  
                                </div>
                            </div>

                        </div>
                        </div>
                </div>
            </div>

        </div>
        </div>



    </div>

<script>
$.fn.dataTable.ext.type.order["number-order-pre"] = function(d) {
      r = parseFloat(d)||0
      return r;
    };

var dbRef = dbRef||firebase.database();
omni_node = 'todoist_tasks'
var FirebaseRef = dbRef.ref('omni').child(omni_node)
var timer_instance = dbRef.ref('omni').child('timer_instance')
var timer_instance_archive = dbRef.ref('omni').child('timer_instance_archive')

var snapshot_instance = dbRef.ref('omni').child('snapshot')
todoist_gspread_pull = todoist_gspread_pull_firebase()



$("#sync_todoist").click(function(event) {
    todoist_gspread_pull = todoist_tasks_pull_custom_gspread()
    snapshot_instance.set(todoist_gspread_pull)
    toastr_notification("Todoist Synced")
})


projects_dictionary = todoist_gspread_pull.projects
gspread_array = todoist_gspread_pull.gspread
current_tasks = todoist_gspread_pull.todoist_current
completed_tasks = todoist_gspread_pull.todoist_completed

    

gspread_array_core = Object.values(firebase_json_pull("https://shippy-ac235.firebaseio.com/omni/recurring_tasks.json"))
gspread_array = gspread_table_tasks_generate(gspread_array_core,completed_tasks,current_tasks)
gspread_array_project_id_append(gspread_array,projects_dictionary)
//dbRef.ref('omni').child('recurring_tasks').set(gspread_array)

remaining_tasks_populate(gspread_array)






    params = datatables_firebase({
                firebase_reference:dbRef.ref('omni').child('recurring_tasks'),
                table_selector:"#remaining_tasks_table_firebase",
                columns_generate:true,
                //default_visible:false,
                callback_function:null,
                //callback_function:callback_function
                //sort:'start_time',
                //callback_function:visits_callback,

            })
























</script>

</body>
</html>